[{"/home/mrtikendra/sso-login/login_with_loyalty/src/index.js":"1","/home/mrtikendra/sso-login/login_with_loyalty/src/App.js":"2","/home/mrtikendra/sso-login/login_with_loyalty/src/Components/LoyatyProgram/LoyaltyProgram.js":"3","/home/mrtikendra/sso-login/login_with_loyalty/src/Components/LoyaltyLogin/LoyaltyLogin.js":"4","/home/mrtikendra/sso-login/login_with_loyalty/src/Components/LoyatyProgram/Login.js":"5","/home/mrtikendra/sso-login/login_with_loyalty/src/Components/LoyatyProgram/Register.js":"6","/home/mrtikendra/sso-login/login_with_loyalty/src/Components/LoyaltyRegister/LoyaltyRegister.js":"7","/home/mrtikendra/sso-login/login_with_loyalty/src/Pages/HomePage.js":"8"},{"size":282,"mtime":1656077501000,"results":"9","hashOfConfig":"10"},{"size":1678,"mtime":1656077501000,"results":"11","hashOfConfig":"10"},{"size":549,"mtime":1656077501000,"results":"12","hashOfConfig":"10"},{"size":1625,"mtime":1656077501000,"results":"13","hashOfConfig":"10"},{"size":2786,"mtime":1656077501000,"results":"14","hashOfConfig":"10"},{"size":3581,"mtime":1656077501000,"results":"15","hashOfConfig":"10"},{"size":1591,"mtime":1656077501000,"results":"16","hashOfConfig":"10"},{"size":374,"mtime":1656077501000,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1fduwrw",{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22"},{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/mrtikendra/sso-login/login_with_loyalty/src/index.js",[],"/home/mrtikendra/sso-login/login_with_loyalty/src/App.js",["37","38","39"],"import { Routes, Route } from \"react-router-dom\";\nimport LoyaltyLogin from \"./Components/LoyaltyLogin/LoyaltyLogin\";\nimport LoyaltyRegister from \"./Components/LoyaltyRegister/LoyaltyRegister\";\nimport Login from \"./Components/LoyatyProgram/Login\";\nimport LoyaltyProgram from \"./Components/LoyatyProgram/LoyaltyProgram\";\nimport Register from \"./Components/LoyatyProgram/Register\";\nimport HomePage from \"./Pages/HomePage\";\nimport jwt from \"jsonwebtoken\"\nfunction App() {\n  const profile = localStorage.getItem(\"profile\")\n  const parsedToken = JSON.parse(profile)\n  // let token = parsedToken.token\n  \n  // console.log(\"localstoragetoken\" ,parsedToken.token )\n// const profile = {\n//   // token : \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFhekBpbmZpbmkuY29tIiwiaWQiOiJhOGE1NmFhNS1hYTcwLTRhM2YtYjI1Yy1lNTgzNDNkNjMyNmIiLCJpYXQiOjE2NTYwNjM3ODAsImV4cCI6MTY1NjA2NzM4MH0.qfzu6IeL_HH_LA0l6QGbW_3v1WgEOXJdxEqhFgHqPXw\"\n// }\n// const decodedToken = jwt.verify(profile.token, \"test\");\n\nconst logout =()=>{\n  localStorage.removeItem(\"profile\")\n}\n// console.log(decodedToken)\n\n// if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n  return (\n    <div>\n      \n      <Routes>\n        <Route path=\"/\" element={<HomePage/>} />\n         <Route path=\"/login\" element={ <LoyaltyLogin />} />\n        <Route path=\"/login\" element={profile ? <HomePage/> : <LoyaltyLogin /> } />\n        <Route path=\"/register\" element={ <LoyaltyRegister />} />\n        <Route path=\"/loyalty\" element={ <LoyaltyProgram/>}/>\n        <Route path=\"/loyalty-login\" element={ <Login/>}/>\n        <Route path=\"/loyalty-register\" element={<Register/>}/>\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n","/home/mrtikendra/sso-login/login_with_loyalty/src/Components/LoyatyProgram/LoyaltyProgram.js",[],"/home/mrtikendra/sso-login/login_with_loyalty/src/Components/LoyaltyLogin/LoyaltyLogin.js",[],"/home/mrtikendra/sso-login/login_with_loyalty/src/Components/LoyatyProgram/Login.js",["40"],"import React, { useState } from \"react\";\nimport \"./LoyaltyProgram.css\";\nimport { Link,useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nconst Login = () => {\n  const [formData, setFormData] = useState({ email: \"\", password: \"\" });\n  const navigate = useNavigate()\n  const handleFormData = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  var data = JSON.stringify({\n    from: \"username-password\",\n    to: \"bearer\",\n    email: formData.email,\n    password: formData.password,\n  });\n\n  var config = {\n    method: \"post\",\n    url: \"http://localhost:3030/exchange-credentials\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    data: data,\n  };\n\n  const loginHandler = async (e) => {\n    e.preventDefault();\n\n    axios(config)\n      .then(function (response) {\n        console.log(JSON.stringify(response.data.token));\n        var config = {\n          method: \"get\",\n          url: \"http://localhost:3030/check-authentication\",\n          headers: {\n            Authorization: `Bearer ${response.data.token}`,\n          },\n        };\n        axios(config)\n          .then(function (response) {\n            console.log(JSON.stringify(response.data));\n            localStorage.setItem(\"profile\",JSON.stringify(response.data))\n            navigate(\"/\")\n \n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  return (\n    <div className=\"loyalty-warapper\">\n      <h1> other Application </h1>\n      <form>\n        <div className=\"form-group\">\n          <label for=\"exampleInputEmail1\">Email address</label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            name=\"email\"\n            id=\"exampleInputEmail1\"\n            aria-describedby=\"emailHelp\"\n            placeholder=\"Enter email\"\n            onChange={handleFormData}\n          />\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            We'll never share your email with anyone else.\n          </small>\n        </div>\n        <div className=\"form-group\">\n          <label for=\"exampleInputPassword1\">Password</label>\n          <input\n            type=\"password\"\n            className=\"form-control\"\n            name=\"password\"\n            id=\"exampleInputPassword1\"\n            placeholder=\"Password\"\n            onChange={handleFormData}\n          />\n        </div>\n        <div className=\"form-group form-check\"></div>\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary\"\n          onClick={loginHandler}\n        >\n          Login\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","/home/mrtikendra/sso-login/login_with_loyalty/src/Components/LoyatyProgram/Register.js",["41"],"import React, { useState } from \"react\";\nimport \"./LoyaltyProgram.css\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nconst Register = () => {\n  const navigate = useNavigate()\n  const [formData, setFormData] = useState({ email: \"\", password: \"\" });\n  const handleFormData = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  var data = JSON.stringify({\n    type: \"username-password\",\n    email: formData.email,\n    password: formData.password,\n  });\n\n  var config = {\n    method: \"post\",\n    url: \"http://localhost:3030/create-credentials\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    data: data,\n  };\n\n  const SignUpHandler = (e) => {\n    e.preventDefault();\n    axios(config)\n      .then(function (response) {\n        console.log(JSON.stringify(response.data));\n        if (response.data.id) {\n          var data = JSON.stringify({\n            from: \"username-password\",\n            to: \"bearer\",\n            email: formData.email,\n            password: formData.password,\n          });\n\n          var config = {\n            method: \"post\",\n            url: \"http://localhost:3030/exchange-credentials\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            data: data,\n          };\n\n          axios(config)\n            .then(function (response) {\n              console.log(JSON.stringify(response.data));\n              var config = {\n                method: \"get\",\n                url: \"http://localhost:3030/check-authentication\",\n                headers: {\n                  Authorization: `Bearer ${response.data.token}`,\n                },\n              };\n\n              axios(config)\n                .then(function (response) {\n                  console.log(JSON.stringify(response.data));\n                  localStorage.setItem(\"profile\",JSON.stringify(response.data))\n                  navigate(\"/\")\n\n                })\n                .catch(function (error) {\n                  console.log(error);\n                });\n            })\n            .catch(function (error) {\n              console.log(error);\n            });\n        } else {\n          alert(\"user not registered\");\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n  return (\n    <div className=\"loyalty-warapper\">\n      <h1> other Application </h1>\n      <form>\n        <div className=\"form-group\">\n          <label for=\"exampleInputEmail1\">Email address</label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            name=\"email\"\n            id=\"exampleInputEmail1\"\n            aria-describedby=\"emailHelp\"\n            placeholder=\"Enter email\"\n            onChange={handleFormData}\n          />\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            We'll never share your email with anyone else.\n          </small>\n        </div>\n        <div className=\"form-group\">\n          <label for=\"exampleInputPassword1\">Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            className=\"form-control\"\n            id=\"exampleInputPassword1\"\n            placeholder=\"Password\"\n            onChange={handleFormData}\n          />\n        </div>\n        <div className=\"form-group form-check\"></div>\n        <button type=\"submit\" className=\"btn btn-primary\" onClick={SignUpHandler}>\n          Register\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n","/home/mrtikendra/sso-login/login_with_loyalty/src/Components/LoyaltyRegister/LoyaltyRegister.js",[],"/home/mrtikendra/sso-login/login_with_loyalty/src/Pages/HomePage.js",[],{"ruleId":"42","severity":1,"message":"43","line":8,"column":8,"nodeType":"44","messageId":"45","endLine":8,"endColumn":11},{"ruleId":"42","severity":1,"message":"46","line":11,"column":9,"nodeType":"44","messageId":"45","endLine":11,"endColumn":20},{"ruleId":"42","severity":1,"message":"47","line":20,"column":7,"nodeType":"44","messageId":"45","endLine":20,"endColumn":13},{"ruleId":"42","severity":1,"message":"48","line":3,"column":10,"nodeType":"44","messageId":"45","endLine":3,"endColumn":14},{"ruleId":"42","severity":1,"message":"48","line":3,"column":10,"nodeType":"44","messageId":"45","endLine":3,"endColumn":14},"no-unused-vars","'jwt' is defined but never used.","Identifier","unusedVar","'parsedToken' is assigned a value but never used.","'logout' is assigned a value but never used.","'Link' is defined but never used."]